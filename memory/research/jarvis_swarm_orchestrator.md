# 賈維斯蜂群編排器 - 研究報告
**日期：** 2026-02-25
**來源：** 影片學習 + Web Research

---

## 一、影片核心啟發

### 1.1 關鍵概念：共同知識 (Common Knowledge)
- 「不是大家知道，而是**大家都知道大家都知道**」
- Mailbox 廣播機制 = 實現三體人思維透明
- 水波紋效應：廣播觸發 Agent 自主討論

### 1.2 編排 vs 分工
| 層面 | 傳統分工 | 編排 |
|------|----------|------|
| 焦點 | 誰做哪個模組 | Agent 如何合作 |
| 邏輯 | 任務分配 | 行動邏輯、工具鏈、技能定義 |
| 層次 | 表面 | 軟體工程方法論 |

### 1.3 2026 年的核心能力
> **會編排的人，AI 團隊效率成倍提升**

---

## 二、現有架構分析

### 2.1 OpenClaw 已具備
| 功能 | 對應影片概念 | 狀態 |
|------|--------------|------|
| `sessions_spawn` | 召喚 Agent | ✅ 可用 |
| `subagents` | 管理子代理 | ✅ 可用 |
| `message` | 跨會話通訊 | ✅ 可用 |
| Cron Jobs | 定時任務排程 | ✅ 可用 |

### 2.2 缺失能力
| 缺失 | 影響 |
|------|------|
| ❌ 共享任務列表 (Shared Task List) | 無法追蹤團隊整體進度 |
| ❌ 結構化角色定義 | 無法預設 PM/前端/後端/審查者 |
| ❌ Mailbox 廣播機制 | 無法實現「共同知識」 |
| ❌ 團隊記憶同步 | Agent 間無共享上下文 |

---

## 三、可行進化方案

### 方案 A：輕量級 - 腳本層實現（推薦先試）
**目標：** 用現有工具組合出簡易蜂群

```
┌─────────────────────────────────────┐
│         賈維斯 (主控)               │
│    - 擔任 Team Lead                 │
│    - 任務分配與結果整合             │
├─────────────────────────────────────┤
│  ┌─────────┐ ┌─────────┐ ┌───────┐ │
│  │ Researcher│ │ Writer │ │Analyst│ │
│  │ (調研)   │ │ (文案)  │ │ (分析) │ │
│  └─────────┘ └─────────┘ └───────┘ │
│         ↑ Mailbox 訊息傳遞          │
└─────────────────────────────────────┘
```

**實作：**
1. 建立 `roles/` 資料夾定義角色 prompt template
2. 建立 `tasks/` 共享任務清單 (JSON)
3. 用 `subagents` 召喚不同角色
4. 訊息透過 `sessions_send` 傳遞

### 方案 B：中量級 - MCP Server 整合
**目標：** 接入 CrewAI 或 MCP 工具

- 研究 OpenClaw 是否支援 MCP (Model Context Protocol)
- 若支援，可接入外部 Agent 協調服務

### 方案 C：重量級 - 自行開發蜂群引擎
**目標：** 完全體 Agent Teams

需要：
- 共享任務隊列 (Redis/File-based)
- 事件驅動訊息系統
- 共識機制設計
- 長期記憶庫

---

## 四、推薦行動路徑

### Phase 1：建立角色庫 (今天可做)
```
/workspace/
├── swarm/
│   ├── roles/
│   │   ├── researcher.md    # 調研員 prompt
│   │   ├── writer.md        # 文案員 prompt
│   │   ├── analyst.md      # 分析師 prompt
│   │   └── validator.md    # 審查者 prompt
│   ├── tasks/
│   │   └── queue.json      # 任務隊列
│   └── commander.js         # 編排腳本
```

### Phase 2：開發編排腳本
- 自動分配任務
- 收集回報並整合
- 簡單的廣播機制

### Phase 3：進化為真・蜂群
- 接入共享記憶
- 實現「共同知識」機制

---

## 五、參考資源

- Claude Code Agent Teams 官方文檔
- CrewAI vs AutoGen 比較
- 《超級合作者》- 合作條件
- 《理性的儀式》- 共同知識理論

---

**結論：** 
現有 OpenClaw 功能已足夠實現「輕量級蜂群」。關鍵在於**建立結構化的角色定義與任務分配機制**。

要開始 Phase 1 嗎？🦾
